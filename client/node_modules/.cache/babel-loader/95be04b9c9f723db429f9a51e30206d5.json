{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\anton\\\\Desktop\\\\InvoiceGen\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:\\\\Users\\\\anton\\\\Desktop\\\\InvoiceGen\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\anton\\\\Desktop\\\\InvoiceGen\\\\client\\\\src\\\\comp\\\\invoice\\\\comp\\\\creater.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { saveAs } from \"file-saver\"; //import PropTypes from \"prop-types\";\n\nconst Creater = () => {\n  const _useState = useState({\n    order_id: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        formData = _useState2[0],\n        setFormData = _useState2[1];\n\n  const order_id = formData.order_id;\n\n  const onChange = async e => {\n    setFormData(_objectSpread({}, formData, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault(); // let res = await axios.get(\n    //   \"http://tools.raminternet.com/devotion/api/getProformaInfo?id=\" + order_id\n    // );\n\n    let body = {\n      html: '<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Document</title></head><body>ДОКУМЕНТИК</body></html>'\n    };\n    await axios.post(\"/api/invoice\", body).then(res => {\n      let file = new Blob([res.data], {\n        type: \"application/pdf\"\n      }); // const fileURL = URL.createObjectURL(file);\n      // window.open(fileURL);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Create Invoice\"), React.createElement(\"form\", {\n    className: \"creater-form\",\n    onSubmit: e => onSubmit(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    className: \"creater-input\",\n    placeholder: \"Order Id\",\n    name: \"order_id\",\n    value: order_id,\n    onChange: e => onChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    value: \"LogIn\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })));\n};\n\nCreater.prototype = {}; //const mapStateToProps = state => ({});\n\nexport default connect()(Creater);","map":{"version":3,"sources":["C:\\Users\\anton\\Desktop\\InvoiceGen\\client\\src\\comp\\invoice\\comp\\creater.js"],"names":["React","useState","connect","axios","saveAs","Creater","order_id","formData","setFormData","onChange","e","target","name","value","onSubmit","preventDefault","body","html","post","then","res","file","Blob","data","type","catch","error","console","log","prototype"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,YAAvB,C,CACA;;AAEA,MAAMC,OAAO,GAAG,MAAM;AAAA,oBACYJ,QAAQ,CAAC;AACvCK,IAAAA,QAAQ,EAAE;AAD6B,GAAD,CADpB;AAAA;AAAA,QACbC,QADa;AAAA,QACHC,WADG;;AAAA,QAKZF,QALY,GAKCC,QALD,CAKZD,QALY;;AAOpB,QAAMG,QAAQ,GAAG,MAAMC,CAAN,IAAW;AAC1BF,IAAAA,WAAW,mBAAMD,QAAN;AAAgB,OAACG,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAA1C,OAAX;AACD,GAFD;;AAIA,QAAMC,QAAQ,GAAG,MAAMJ,CAAN,IAAW;AAC1BA,IAAAA,CAAC,CAACK,cAAF,GAD0B,CAE1B;AACA;AACA;;AACA,QAAIC,IAAI,GAAG;AACTC,MAAAA,IAAI,EACF;AAFO,KAAX;AAIA,UAAMd,KAAK,CACRe,IADG,CACE,cADF,EACkBF,IADlB,EAEHG,IAFG,CAEEC,GAAG,IAAI;AACX,UAAIC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACF,GAAG,CAACG,IAAL,CAAT,EAAqB;AAAEC,QAAAA,IAAI,EAAE;AAAR,OAArB,CAAX,CADW,CAGX;AACA;AACD,KAPG,EAQHC,KARG,CAQGC,KAAK,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAVG,CAAN;AAWD,GApBD;;AAsBA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE;AAAM,IAAA,SAAS,EAAC,cAAhB;AAA+B,IAAA,QAAQ,EAAEhB,CAAC,IAAII,QAAQ,CAACJ,CAAD,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,SAAS,EAAC,eAFZ;AAGE,IAAA,WAAW,EAAC,UAHd;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,KAAK,EAAEJ,QALT;AAME,IAAA,QAAQ,EAAEI,CAAC,IAAID,QAAQ,CAACC,CAAD,CANzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EASE;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,SAAS,EAAC,iBAA/B;AAAiD,IAAA,KAAK,EAAC,OAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CAFF,CADF;AAgBD,CAjDD;;AAkDAL,OAAO,CAACwB,SAAR,GAAoB,EAApB,C,CAEA;;AAEA,eAAe3B,OAAO,GAAGG,OAAH,CAAtB","sourcesContent":["import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { saveAs } from \"file-saver\";\r\n//import PropTypes from \"prop-types\";\r\n\r\nconst Creater = () => {\r\n  const [formData, setFormData] = useState({\r\n    order_id: \"\"\r\n  });\r\n\r\n  const { order_id } = formData;\r\n\r\n  const onChange = async e => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const onSubmit = async e => {\r\n    e.preventDefault();\r\n    // let res = await axios.get(\r\n    //   \"http://tools.raminternet.com/devotion/api/getProformaInfo?id=\" + order_id\r\n    // );\r\n    let body = {\r\n      html:\r\n        '<!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Document</title></head><body>ДОКУМЕНТИК</body></html>'\r\n    };\r\n    await axios\r\n      .post(\"/api/invoice\", body)\r\n      .then(res => {\r\n        let file = new Blob([res.data], { type: \"application/pdf\" });\r\n\r\n        // const fileURL = URL.createObjectURL(file);\r\n        // window.open(fileURL);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Create Invoice</h3>\r\n      <form className=\"creater-form\" onSubmit={e => onSubmit(e)}>\r\n        <input\r\n          type=\"text\"\r\n          className=\"creater-input\"\r\n          placeholder=\"Order Id\"\r\n          name=\"order_id\"\r\n          value={order_id}\r\n          onChange={e => onChange(e)}\r\n        />\r\n        <input type=\"submit\" className=\"btn btn-primary\" value=\"LogIn\" />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nCreater.prototype = {};\r\n\r\n//const mapStateToProps = state => ({});\r\n\r\nexport default connect()(Creater);\r\n"]},"metadata":{},"sourceType":"module"}