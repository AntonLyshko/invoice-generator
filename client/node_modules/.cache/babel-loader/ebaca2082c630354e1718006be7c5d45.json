{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\anton\\\\Desktop\\\\InvoiceGen\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:\\\\Users\\\\anton\\\\Desktop\\\\InvoiceGen\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\anton\\\\Desktop\\\\InvoiceGen\\\\client\\\\src\\\\comp\\\\invoice\\\\comp\\\\creater.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport InvoiceContainer from './invoiceContainer.js';\nimport axios from 'axios';\nimport { saveAs } from 'file-saver'; //import PropTypes from \"prop-types\";\n\nconst Creater = () => {\n  const _useState = useState({\n    order_id: '',\n    items: [],\n    invoice_id: '',\n    currency: '',\n    data: [],\n    loaded: false\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const order_id = state.order_id;\n\n  const onChange = async e => {\n    setState(_objectSpread({}, state, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const onSubmit = async e => {\n    e.preventDefault(); // let res = await axios.get(\n    // \t`http://tools.raminternet.com/devotion/api/getProformaInfo/?id=${order_id}&token=n9VTU1yvRomDHZOBfTt0aKEMlSmzO9Na`\n    // );\n\n    let res = {\n      status: 'success',\n      message: '',\n      data: {\n        order_id: '5221',\n        invoice_id: '20PR00000042',\n        currency: 'USD',\n        issue_date: '2020-02-15 21:18:46',\n        customer_address: 'Martha Jensen\\n\\n235 Lexington Avenue  \\n52246, Iowa/Iowa City\\nUnited States',\n        delivery_address: 'Lauren Jensen\\n\\n235 Lexington Avenue  \\n52246, Iowa/Iowa City\\nUnited States',\n        payment_reference: '5c04b837b0ea5FB',\n        items: [{\n          invoice_id: '20PR00000042',\n          name: 'Matty',\n          quantity: 1,\n          amount: '1.00'\n        }, {\n          invoice_id: '20PR00000042',\n          name: 'Delivery',\n          quantity: 1,\n          amount: '2.00'\n        }, {\n          invoice_id: '20PR00000042',\n          name: 'Delivery',\n          quantity: 1,\n          amount: '3.00'\n        }, {\n          invoice_id: '20PR00000042',\n          name: 'Delivery',\n          quantity: 1,\n          amount: '4.00'\n        }, {\n          invoice_id: '20PR00000042',\n          name: 'Delivery',\n          quantity: 1,\n          amount: '5.00'\n        }, {\n          invoice_id: '20PR00000042',\n          name: 'Delivery',\n          quantity: 1,\n          amount: '6.00'\n        }, {\n          invoice_id: '20PR00000042',\n          name: 'Delivery',\n          quantity: 1,\n          amount: '7.00'\n        }, {\n          invoice_id: '20PR00000042',\n          name: 'Delivery',\n          quantity: 1,\n          amount: '8.00'\n        }, {\n          invoice_id: '20PR00000042',\n          name: 'Delivery',\n          quantity: 1,\n          amount: '9.00'\n        }, {\n          invoice_id: '20PR00000042',\n          name: 'Delivery',\n          quantity: 1,\n          amount: '10.00'\n        }, {\n          invoice_id: '20PR00000042',\n          name: 'Delivery',\n          quantity: 1,\n          amount: '11.00'\n        }]\n      }\n    };\n\n    if (res.status == 'success') {\n      await setState(_objectSpread({}, state, {\n        loaded: true,\n        invoice_id: res.data.invoice_id,\n        currency: res.data.currency,\n        issue_date: res.data.issue_date,\n        customer_address: res.data.customer_address,\n        delivery_address: res.data.delivery_address,\n        payment_reference: res.data.payment_reference,\n        items: res.data.items\n      }));\n    } // await axios\n    // \t.get('/api/invoice', {\n    // \t\tresponseType: 'arraybuffer',\n    // \t\theaders: { Accept: 'application/pdf' }\n    // \t})\n    // \t.then(res => {\n    // \t\tconst blob = new Blob([res.data], { type: 'application/pdf' });\n    // \t\tsaveAs(blob, `pdf${order_id}.pdf`);\n    // \t});\n\n  };\n\n  const onSave = () => {\n    let body = {\n      invoice_id: state.invoice_id,\n      order_id: state.order_id,\n      currency: state.currency,\n      issue_date: state.issue_date,\n      customer_address: state.customer_address,\n      delivery_address: state.delivery_address,\n      payment_reference: state.payment_reference,\n      items: state.items\n    };\n    axios.post('/api/invoice', body);\n  };\n\n  const onSaveAndDownload = async () => {\n    let body = {\n      invoice_id: state.invoice_id,\n      order_id: state.order_id,\n      currency: state.currency,\n      issue_date: state.issue_date,\n      customer_address: state.customer_address,\n      delivery_address: state.delivery_address,\n      payment_reference: state.payment_reference,\n      items: state.items\n    };\n    await axios.post('/api/invoice/', body);\n    await axios.get('/api/invoice/pdf/' + state.invoice_id, {\n      responseType: 'arraybuffer',\n      headers: {\n        Accept: 'application/pdf'\n      }\n    }).then(res => {\n      const blob = new Blob([res.data], {\n        type: 'application/pdf'\n      });\n      saveAs(blob, \"pdf\".concat(state.order_id, \".pdf\"));\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"creator-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"creator-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, \"Create Invoice\"), React.createElement(\"div\", {\n    className: \"order-input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"creater-form\",\n    onSubmit: e => onSubmit(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"label\",\n    for: \"order_id\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, \"Order ID\"), React.createElement(\"input\", {\n    type: \"text\",\n    className: \"input creator-input\",\n    placeholder: \"Order Id\",\n    name: \"order_id\",\n    id: \"order_id\",\n    value: order_id,\n    onChange: e => onChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"input btn btn-creator\",\n    value: \"Get\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"invoice-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, React.createElement(InvoiceContainer, {\n    loading: state.loaded,\n    invoice_id: state.invoice_id,\n    currency: state.currency,\n    issue_date: state.issue_date,\n    customer_address: state.customer_address,\n    delivery_address: state.delivery_address,\n    payment_reference: state.payment_reference,\n    items: state.items,\n    onChange: onChange,\n    onSave: onSave,\n    onSaveAndDownload: onSaveAndDownload,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  })));\n};\n\nCreater.prototype = {}; //const mapStateToProps = state => ({});\n\nexport default connect()(Creater);","map":{"version":3,"sources":["C:\\Users\\anton\\Desktop\\InvoiceGen\\client\\src\\comp\\invoice\\comp\\creater.js"],"names":["React","useState","connect","InvoiceContainer","axios","saveAs","Creater","order_id","items","invoice_id","currency","data","loaded","state","setState","onChange","e","target","name","value","onSubmit","preventDefault","res","status","message","issue_date","customer_address","delivery_address","payment_reference","quantity","amount","onSave","body","post","onSaveAndDownload","get","responseType","headers","Accept","then","blob","Blob","type","prototype"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport InvoiceContainer from './invoiceContainer.js';\r\nimport axios from 'axios';\r\nimport { saveAs } from 'file-saver';\r\n//import PropTypes from \"prop-types\";\r\n\r\nconst Creater = () => {\r\n\tconst [state, setState] = useState({\r\n\t\torder_id: '',\r\n\t\titems: [],\r\n\t\tinvoice_id: '',\r\n\t\tcurrency: '',\r\n\t\tdata: [],\r\n\t\tloaded: false\r\n\t});\r\n\r\n\tconst { order_id } = state;\r\n\r\n\tconst onChange = async e => {\r\n\t\tsetState({ ...state, [e.target.name]: e.target.value });\r\n\t};\r\n\r\n\tconst onSubmit = async e => {\r\n\t\te.preventDefault();\r\n\t\t// let res = await axios.get(\r\n\t\t// \t`http://tools.raminternet.com/devotion/api/getProformaInfo/?id=${order_id}&token=n9VTU1yvRomDHZOBfTt0aKEMlSmzO9Na`\r\n\t\t// );\r\n\t\tlet res = {\r\n\t\t\tstatus: 'success',\r\n\t\t\tmessage: '',\r\n\t\t\tdata: {\r\n\t\t\t\torder_id: '5221',\r\n\t\t\t\tinvoice_id: '20PR00000042',\r\n\t\t\t\tcurrency: 'USD',\r\n\t\t\t\tissue_date: '2020-02-15 21:18:46',\r\n\t\t\t\tcustomer_address:\r\n\t\t\t\t\t'Martha Jensen\\n\\n235 Lexington Avenue  \\n52246, Iowa/Iowa City\\nUnited States',\r\n\t\t\t\tdelivery_address:\r\n\t\t\t\t\t'Lauren Jensen\\n\\n235 Lexington Avenue  \\n52246, Iowa/Iowa City\\nUnited States',\r\n\t\t\t\tpayment_reference: '5c04b837b0ea5FB',\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice_id: '20PR00000042',\r\n\t\t\t\t\t\tname: 'Matty',\r\n\t\t\t\t\t\tquantity: 1,\r\n\t\t\t\t\t\tamount: '1.00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice_id: '20PR00000042',\r\n\t\t\t\t\t\tname: 'Delivery',\r\n\t\t\t\t\t\tquantity: 1,\r\n\t\t\t\t\t\tamount: '2.00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice_id: '20PR00000042',\r\n\t\t\t\t\t\tname: 'Delivery',\r\n\t\t\t\t\t\tquantity: 1,\r\n\t\t\t\t\t\tamount: '3.00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice_id: '20PR00000042',\r\n\t\t\t\t\t\tname: 'Delivery',\r\n\t\t\t\t\t\tquantity: 1,\r\n\t\t\t\t\t\tamount: '4.00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice_id: '20PR00000042',\r\n\t\t\t\t\t\tname: 'Delivery',\r\n\t\t\t\t\t\tquantity: 1,\r\n\t\t\t\t\t\tamount: '5.00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice_id: '20PR00000042',\r\n\t\t\t\t\t\tname: 'Delivery',\r\n\t\t\t\t\t\tquantity: 1,\r\n\t\t\t\t\t\tamount: '6.00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice_id: '20PR00000042',\r\n\t\t\t\t\t\tname: 'Delivery',\r\n\t\t\t\t\t\tquantity: 1,\r\n\t\t\t\t\t\tamount: '7.00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice_id: '20PR00000042',\r\n\t\t\t\t\t\tname: 'Delivery',\r\n\t\t\t\t\t\tquantity: 1,\r\n\t\t\t\t\t\tamount: '8.00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice_id: '20PR00000042',\r\n\t\t\t\t\t\tname: 'Delivery',\r\n\t\t\t\t\t\tquantity: 1,\r\n\t\t\t\t\t\tamount: '9.00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice_id: '20PR00000042',\r\n\t\t\t\t\t\tname: 'Delivery',\r\n\t\t\t\t\t\tquantity: 1,\r\n\t\t\t\t\t\tamount: '10.00'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tinvoice_id: '20PR00000042',\r\n\t\t\t\t\t\tname: 'Delivery',\r\n\t\t\t\t\t\tquantity: 1,\r\n\t\t\t\t\t\tamount: '11.00'\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t};\r\n\t\tif (res.status == 'success') {\r\n\t\t\tawait setState({\r\n\t\t\t\t...state,\r\n\t\t\t\tloaded: true,\r\n\t\t\t\tinvoice_id: res.data.invoice_id,\r\n\t\t\t\tcurrency: res.data.currency,\r\n\t\t\t\tissue_date: res.data.issue_date,\r\n\t\t\t\tcustomer_address: res.data.customer_address,\r\n\t\t\t\tdelivery_address: res.data.delivery_address,\r\n\t\t\t\tpayment_reference: res.data.payment_reference,\r\n\t\t\t\titems: res.data.items\r\n\t\t\t});\r\n\t\t}\r\n\t\t// await axios\r\n\t\t// \t.get('/api/invoice', {\r\n\t\t// \t\tresponseType: 'arraybuffer',\r\n\t\t// \t\theaders: { Accept: 'application/pdf' }\r\n\t\t// \t})\r\n\t\t// \t.then(res => {\r\n\t\t// \t\tconst blob = new Blob([res.data], { type: 'application/pdf' });\r\n\t\t// \t\tsaveAs(blob, `pdf${order_id}.pdf`);\r\n\t\t// \t});\r\n\t};\r\n\r\n\tconst onSave = () => {\r\n\t\tlet body = {\r\n\t\t\tinvoice_id: state.invoice_id,\r\n\t\t\torder_id: state.order_id,\r\n\t\t\tcurrency: state.currency,\r\n\t\t\tissue_date: state.issue_date,\r\n\t\t\tcustomer_address: state.customer_address,\r\n\t\t\tdelivery_address: state.delivery_address,\r\n\t\t\tpayment_reference: state.payment_reference,\r\n\t\t\titems: state.items\r\n\t\t};\r\n\t\taxios.post('/api/invoice', body);\r\n\t};\r\n\r\n\tconst onSaveAndDownload = async () => {\r\n\t\tlet body = {\r\n\t\t\tinvoice_id: state.invoice_id,\r\n\t\t\torder_id: state.order_id,\r\n\t\t\tcurrency: state.currency,\r\n\t\t\tissue_date: state.issue_date,\r\n\t\t\tcustomer_address: state.customer_address,\r\n\t\t\tdelivery_address: state.delivery_address,\r\n\t\t\tpayment_reference: state.payment_reference,\r\n\t\t\titems: state.items\r\n\t\t};\r\n\t\tawait axios.post('/api/invoice/', body);\r\n\t\tawait axios\r\n\t\t\t.get('/api/invoice/pdf/' + state.invoice_id, {\r\n\t\t\t\tresponseType: 'arraybuffer',\r\n\t\t\t\theaders: { Accept: 'application/pdf' }\r\n\t\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tconst blob = new Blob([res.data], { type: 'application/pdf' });\r\n\t\t\t\tsaveAs(blob, `pdf${state.order_id}.pdf`);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='creator-container'>\r\n\t\t\t<div className='creator-title'>Create Invoice</div>\r\n\t\t\t<div className='order-input'>\r\n\t\t\t\t<form className='creater-form' onSubmit={e => onSubmit(e)}>\r\n\t\t\t\t<label className='label' for='order_id'>Order ID</label>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tclassName='input creator-input'\r\n\t\t\t\t\t\tplaceholder='Order Id'\r\n\t\t\t\t\t\tname='order_id'\r\n\t\t\t\t\t\tid='order_id'\r\n\t\t\t\t\t\tvalue={order_id}\r\n\t\t\t\t\t\tonChange={e => onChange(e)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input type='submit' className='input btn btn-creator' value='Get' />\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<div className='invoice-container'>\r\n\t\t\t\t<InvoiceContainer\r\n\t\t\t\t\tloading={state.loaded}\r\n\t\t\t\t\tinvoice_id={state.invoice_id}\r\n\t\t\t\t\tcurrency={state.currency}\r\n\t\t\t\t\tissue_date={state.issue_date}\r\n\t\t\t\t\tcustomer_address={state.customer_address}\r\n\t\t\t\t\tdelivery_address={state.delivery_address}\r\n\t\t\t\t\tpayment_reference={state.payment_reference}\r\n\t\t\t\t\titems={state.items}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tonSave={onSave}\r\n\t\t\t\t\tonSaveAndDownload={onSaveAndDownload}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\nCreater.prototype = {};\r\n\r\n//const mapStateToProps = state => ({});\r\n\r\nexport default connect()(Creater);\r\n"]},"metadata":{},"sourceType":"module"}